{"version":3,"sources":["hooks/useIsVisible.js","../node_modules/react-use/esm/useUpdateEffect.js","../node_modules/react-use/esm/useFirstMountState.js","components/loaders/Table.js","../node_modules/react-use/esm/useLocalStorage.js","components/ScatterPlot.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","hooks/useStickySWR.js","components/Home.js"],"names":["OPTIONS","root","rootMargin","threshold","useIsVisible","elementRef","useState","isVisible","setIsVisible","useEffect","current","IntersectionObserver","entries","observer","forEach","entry","isIntersecting","unobserve","observe","useUpdateEffect","effect","deps","isFirstMount","isFirst","useRef","useFirstMountState","TableLoader","useMeasure","ref","width","windowWidth","window","innerWidth","className","viewBox","height","speed","animate","Array","keys","map","i","x","y","rx","ry","useLocalStorage","key","initialValue","options","isBrowser","noop","Error","deserializer","raw","value","JSON","parse","initializer","serializer","String","stringify","localStorageValue","localStorage","getItem","setItem","_a","state","setState","useLayoutEffect","set","useCallback","valOrFunc","newState","remove","removeItem","undefined","VaccinationScatterPlot","props","data","scatter","json","id","margin","currentdate","lastUpdated","separator","newDate","Date","month","toLocaleString","date","getDate","getCurrentDate","d3","selectAll","select","append","attr","html","svg","strokeWidth","scale","linear","range","xAxis","axis","ticks","tickFormat","d","prefix","formatPrefix","symbol","orient","yAxis","tooltip","domain","call","style","text","enter","Vaccine1","Vaccine2","color","AN","AP","AR","AS","BR","CH","CT","DL","DN","GA","GJ","HP","HR","JH","JK","KA","KL","LA","LD","MH","ML","MN","MP","MZ","NL","OR","PB","PY","RJ","SK","TG","TN","TR","TT","UP","UT","WB","on","display","padding","opacity","tipsize","parseInt","top","event","pageY","left","pageX","STATE_NAMES","Total","district","details","stateDetails","Object","obj","meta","population","total","vaccinated1","vaccinated2","toFixed","push","districts","_objectWithoutProperties","source","excluded","target","sourceKeys","length","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","useStickySWR","fetcher","swrOptions","setOptions","args","useSWR","isValidating","error","rest","produce","draftOptions","initialData","Actions","lazy","retry","Footer","Level","VaccinationHeader","MapExplorer","MapSwitcher","Minigraphs","Search","StateHeader","Table","TimeseriesExplorer","Home","stateCode","districtName","regionHighlighted","setRegionHighlighted","anchor","setAnchor","expandTable","setExpandTable","useSessionStorage","mapStatistic","setMapStatistic","MAP_VIEWS","DISTRICTS","mapView","setMapView","setDate","location","useLocation","timeseries","DATA_API_ROOT","revalidateOnMount","refreshInterval","API_REFRESH_INTERVAL","homeRightElement","useWindowSize","hideDistrictData","DISTRICT_START_DATE","hideDistrictTestData","formatISO","addDays","parseIndiaDate","DISTRICT_TEST_END_DATE","TESTED_EXPIRING_DAYS","representation","hideVaccinated","getStatistic","lastDataDate","useMemo","updatedDates","tested","vaccinated","filter","max","lastUpdatedDate","datetime","formatDateObjIndia","noDistrictDataStates","reduce","res","stateData","UNKNOWN_DISTRICT_KEY","PRIMARY_STATISTICS","every","statistic","noRegionHighlightedDistrictData","Helmet","name","content","classnames","expanded","fallback","minHeight","dates","position","marginTop","hash","stickied"],"mappings":"4HAEMA,EAAU,CACdC,KAAM,KACNC,WAAY,kBACZC,UAAW,GAuBEC,IApBM,SAACC,GACpB,MAAkCC,oBAAS,GAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KAgBA,OAdAC,qBAAU,WACJJ,EAAWK,SACI,IAAIC,sBAAqB,SAACC,EAASC,GAClDD,EAAQE,SAAQ,SAACC,GACXA,EAAMC,iBACRR,GAAa,GACbK,EAASI,UAAUZ,EAAWK,eAGjCV,GACMkB,QAAQb,EAAWK,WAE7B,CAACL,IAEGE,I,4CCfMY,IARO,SAAUC,EAAQC,GACpC,IAAIC,ECFD,WACH,IAAIC,EAAUC,kBAAO,GACrB,OAAID,EAAQb,SACRa,EAAQb,SAAU,GACX,GAEJa,EAAQb,QDJIe,GACnBhB,qBAAU,WACN,IAAKa,EACD,OAAOF,MAEZC,K,gFEgCQK,IArCK,WAClB,MAAqBC,cAArB,mBAAKC,EAAL,KAAWC,EAAX,KAAWA,MACLC,EAAcC,OAAOC,WAE3BH,EAAQA,IAAUC,GAAe,IAAM,IAAMA,GACzCA,EAAc,MAChBD,GAAS,IAMX,OACE,qBAAKD,IAAKA,EAAKK,UAAU,cAAzB,SACE,cAAC,IAAD,CACEC,QAAO,cAASL,EAAT,YAAkBM,KACzBA,OAAQA,IACRN,MAAOA,EACPO,MAAO,EACPC,SAAS,EALX,SAOG,YAAIC,MAXE,IAWUC,QAAQC,KAAI,SAACC,GAAD,OAC3B,sBAEEC,EAAE,IACFC,EAhBK,GAgBOF,EACZG,GAAG,IACHC,GAAG,IACHhB,MAAOA,EACPM,OAAQA,IANHM,Y,iCC1BjB,mBA8EeK,IA5EO,SAAUC,EAAKC,EAAcC,GAC/C,IAAKC,IACD,MAAO,CAACF,EAAcG,IAAMA,KAEhC,IAAKJ,EACD,MAAM,IAAIK,MAAM,wCAEpB,IAAIC,EAAeJ,EACbA,EAAQK,IACJ,SAAUC,GAAS,OAAOA,GAC1BN,EAAQI,aACZG,KAAKC,MAEPC,EAAclC,kBAAO,SAAUuB,GAC/B,IACI,IAAIY,EAAaV,EAAWA,EAAQK,IAAMM,OAASX,EAAQU,WAAcH,KAAKK,UAC1EC,EAAoBC,aAAaC,QAAQjB,GAC7C,OAA0B,OAAtBe,EACOT,EAAaS,IAGpBd,GAAgBe,aAAaE,QAAQlB,EAAKY,EAAWX,IAC9CA,GAGf,MAAOkB,GAIH,OAAOlB,MAIXkB,EAAK5D,oBAAS,WAAc,OAAOoD,EAAYhD,QAAQqC,MAAUoB,EAAQD,EAAG,GAAIE,EAAWF,EAAG,GAElGG,2BAAgB,WAAc,OAAOD,EAASV,EAAYhD,QAAQqC,MAAU,CAACA,IAE7E,IAAIuB,EAAMC,uBAAY,SAAUC,GAC5B,IACI,IAAIC,EAAgC,oBAAdD,EAA2BA,EAAUL,GAASK,EACpE,GAAwB,qBAAbC,EACP,OACJ,IAAIlB,OAAQ,EAIAA,EAHRN,EACIA,EAAQK,IACgB,kBAAbmB,EACCA,EAEAjB,KAAKK,UAAUY,GACtBxB,EAAQU,WACLV,EAAQU,WAAWc,GAEnBjB,KAAKK,UAAUY,GAEnBjB,KAAKK,UAAUY,GAC3BV,aAAaE,QAAQlB,EAAKQ,GAC1Ba,EAASf,EAAaE,IAE1B,MAAOW,OAIR,CAACnB,EAAKqB,IAELM,EAASH,uBAAY,WACrB,IACIR,aAAaY,WAAW5B,GACxBqB,OAASQ,GAEb,MAAOV,OAIR,CAACnB,EAAKqB,IACT,MAAO,CAACD,EAAOG,EAAKI,K,oFCiUTG,EAzYgB,SAACC,GAC9B,IAAOC,EAAQD,EAARC,KACDC,EAAU,SAACC,EAAMC,GAAQ,IAAD,MACtBC,EAAe,GAAfA,EAAyB,GAAzBA,EAAqC,GAArCA,EAAgD,GAYhDC,EATiB,SAACC,GAAkC,IAArBC,EAAoB,uDAAR,IACzCC,EAAU,IAAIC,KAAKH,GAEnBI,EAAQF,EAAQG,eAAe,UAAW,CAACD,MAAO,SAClDE,EAAOJ,EAAQK,UAErB,MAAM,GAAN,OAAUD,EAAO,GAAP,WAAgBA,GAAhB,UAA4BA,IAAtC,OAA+CL,GAA/C,OAA2DG,GAGzCI,CAAc,oBAACZ,EAAK,UAAN,aAAC,EAASO,YAAV,kBAAkBP,EAAK,UAAvB,aAAkB,EAASO,MAM7DM,GAAGC,UAAUb,GAAIa,UAAU,OAAOrB,SAClCoB,GAAGC,UAAUb,GAAIa,UAAU,SAASrB,SACpCoB,GAAGE,OAAOd,GACPe,OAAO,OACPC,KAAK,KAAM,QACXA,KAAK,QAAS,aACdC,KAJH,UAIWf,IACX,IAAIgB,EAAMN,GACPE,OAAOd,GACPe,OAAO,OACPC,KAAK,UAHE,cAvBS,IAuBT,YAxBU,MA+BdrE,EA9Ba,IA8BQsD,EAAcA,EAAekB,EAClDlE,EAhCc,IAgCSgD,EAAaA,EAEpCxC,EAAImD,GAAGQ,MAAMC,SAASC,MAAM,CAACrE,EAAQ,IACrCO,EAAIoD,GAAGQ,MAAMC,SAASC,MAAM,CAAC,EAAG3E,IAGhC4E,EAAQX,GAAGM,IACdM,OACAJ,MAAM5D,GACNiE,MAAM,GACNC,YAAW,SAAUC,GACpB,IAAMC,EAAShB,GAAGiB,aAAaF,GAC/B,OAAOC,EAAOR,MAAMO,GAAKC,EAAOE,UAEjCC,OAAO,UAEJC,EAAQpB,GAAGM,IACdM,OACAJ,MAAM3D,GACNsE,OAAO,SACPN,MAAM,GACNC,YAAW,SAAUC,GACpB,IAAMC,EAAShB,GAAGiB,aAAaF,GAC/B,OAAOC,EAAOR,MAAMO,GAAKC,EAAOE,UAGpCZ,EACGH,OAAO,QACPC,KAAK,QAASrE,EAAQsD,EAAcA,GACpCe,KAAK,SAAU/D,EAASgD,EAAaA,GACrCe,KAAK,IAAK,GACVA,KAAK,IAAK,GACVA,KAAK,OAAQ,WACbA,KAAK,KAAM,GACXA,KAAK,eAAgB,GAExBE,EAAMA,EACHH,OAAO,KACPC,KAAK,YAAa,aAAef,EAAc,IAAMA,EAAa,KAErE,IAAMgC,EAAUrB,GAAGE,OAAOd,GAAIe,OAAO,OAAOC,KAAK,QAAS,WA+I1D,IAAMnB,EAAOE,EACb,IAAKF,EACH,MAAM,IAAI3B,MAAM,iBAEhBV,EAAE0E,OAAO,CAAC,EAAG,MACbzE,EAAEyE,OAAO,CAAC,EAAG,MAEbhB,EACGH,OAAO,KACPC,KAAK,QAAS,UACdA,KAAK,YAAa,eAAiB/D,EAAS,KAC5CkF,KAAKZ,GACLR,OAAO,QACPqB,MAAM,OAAQ,OACdpB,KAAK,YAAa,aAAgBrE,EAAM,EAAK,SAC7CqE,KAAK,cAAe,UACpBqB,KAAK,oBAERnB,EACGH,OAAO,KACPC,KAAK,QAAS,UACdA,KAAK,YAAa,aAAerE,EAAQ,QACzCwF,KAAKH,GACLjB,OAAO,QACPC,KAAK,YAAa,eAClBA,KAAK,IAAK,IACVA,KAAK,IAAK,EAAK/D,EAAS,GACxB+D,KAAK,cAAe,UACpBoB,MAAM,OAAQ,OACdC,KAAK,oBAUUnB,EACfL,UAAU,YACVhB,KAAKA,GACLyC,QACAvB,OAAO,KACPC,KAAK,QAAS,WACdA,KAAK,KAAK,SAACW,GACV,OAAOnE,EAAEmE,EAAEY,aAEZvB,KAAK,KAAK,SAACW,GACV,OAAOlE,EAAEkE,EAAEa,aAIZzB,OAAO,UACPC,KAAK,MAAM,SAACW,GACX,OAAOnE,EAAEmE,EAAEY,aAEZvB,KAAK,MAAM,SAACW,GACX,OAAOlE,EAAEkE,EAAEa,aAEZxB,KAAK,IAAK,GACVA,KAAK,QAAS,eACdA,KAAK,QAAQ,SAACW,GACb,IAAMc,EAvMO,CACfC,GAAI,eACJC,GAAI,iBACJC,GAAI,iBACJC,GAAI,eACJC,GAAI,kBACJC,GAAI,iBACJC,GAAI,iBACJC,GAAI,iBACJC,GAAI,kBACJC,GAAI,kBACJC,GAAI,mBACJC,GAAI,mBACJC,GAAI,kBACJC,GAAI,iBACJC,GAAI,iBACJC,GAAI,mBACJC,GAAI,mBACJC,GAAI,gBACJC,GAAI,iBACJC,GAAI,iBACJC,GAAI,kBACJC,GAAI,iBACJC,GAAI,kBACJC,GAAI,mBACJC,GAAI,iBACJC,GAAI,eACJC,GAAI,kBACJC,GAAI,iBACJC,GAAI,kBACJC,GAAI,oBACJC,GAAI,kBACJC,GAAI,iBACJC,GAAI,kBACJC,GAAI,mBACJC,GAAI,mBACJC,GAAI,mBACJC,GAAI,oBAkK2BnD,EAAE1C,OAE/B,OADA0C,EAAEc,MAAQA,EACHA,KAERsC,GAAG,aA9IR,SAAqBpD,EAAGpE,GACtB0E,EAAQG,MAAM,CACZ4C,QAAS,QACT,aAAc,QACdrI,MAAO,QACPsI,QAAS,MACTC,QAAS,EACT,mBAAoBvD,EAAEc,QAIxB,IAAM0C,EACAC,SAASnD,EAAQG,MAAM,UADvB+C,EAEAC,SAASnD,EAAQG,MAAM,WAElB,4BAAPpC,EACFiC,EACGG,MAAM,CACLiD,IAAKzE,GAAG0E,MAAMC,MAAQJ,EAAa,EAAI,KACvCK,KAAM5E,GAAG0E,MAAMG,MAAQN,EAAa,IAAM,OAE3ClE,KACC,mBACEyE,IAAY/D,EAAE1C,OADhB,wBAIE0C,EAAEY,SAJJ,0BAOEZ,EAAEa,SAPJ,6BAUEb,EAAEgE,OAEQ,4BAAP3F,GACTiC,EACGG,MAAM,CACLiD,IAAKzE,GAAG0E,MAAMC,MAAQJ,EAAa,EAAI,KACvCK,KAAM5E,GAAG0E,MAAMG,MAAQN,EAAa,IAAM,OAE3ClE,KACC,sBACEU,EAAEiE,SADJ,eAIEF,IAAY/D,EAAE1C,OAJhB,wBAOE0C,EAAEY,SAPJ,0BAUEZ,EAAEa,SAVJ,6BAaEb,EAAEgE,UAyFPZ,GAAG,YAhFR,SAAqBpD,EAAGpE,GACtB0E,EAAQG,MAAM,CACZ4C,QAAS,aAwKf,OAtFAzJ,qBAAU,WACR,IAAMsK,EAAU,GACVC,EAAe,GACjBjG,IACFkG,OAAO1I,KAAKwC,GAAMjE,SAAQ,SAACqD,GACzB,GAAIA,EAAO,CAAC,IAAD,YAMP,0BALI+G,EAAM,GACZ,IACE,UAAAnG,EAAKZ,UAAL,mBAAagH,YAAb,eAAmBC,cAAnB,UACArG,EAAKZ,UADL,iBACA,EAAakH,aADb,aACA,EAAoBC,eADpB,UAEAvG,EAAKZ,UAFL,iBAEA,EAAakH,aAFb,aAEA,EAAoBE,aAEpBL,EAAI/G,MAAQA,EACZ+G,EAAIJ,SAAW,GACfI,EAAIzD,WACD,UAAA1C,EAAKZ,UAAL,mBAAakH,aAAb,eAAoBC,cAApB,UAAkCvG,EAAKZ,UAAvC,aAAkC,EAAagH,KAAKC,YACrD,KACAI,QAAQ,GACVN,EAAIxD,WACD,UAAA3C,EAAKZ,UAAL,mBAAakH,aAAb,eAAoBE,cAApB,UAAkCxG,EAAKZ,UAAvC,aAAkC,EAAagH,KAAKC,YACrD,KACAI,QAAQ,GACVN,EAAIL,OACF,UAAA9F,EAAKZ,UAAL,mBAAakH,aAAb,eAAoBC,cAApB,UAAkCvG,EAAKZ,UAAvC,iBAAkC,EAAakH,aAA/C,aAAkC,EAAoBE,aACxDL,EAAI1F,KAAJ,oBAAWT,EAAKZ,UAAhB,iBAAW,EAAagH,YAAxB,aAAW,EAAmBxF,YAA9B,QAAsC,GAClCuF,EAAIzD,SAAW,MACjByD,EAAIzD,SAAW,KAEbyD,EAAIxD,SAAW,MACjBwD,EAAIxD,SAAW,KAGfwD,EAAIzD,UACJyD,EAAIxD,UACJwD,EAAIzD,UAAY,KAChByD,EAAIxD,UAAY,KAEhBsD,EAAaS,KAAKP,GAIxBD,OAAO1I,KAAKwC,EAAKZ,GAAOuH,WAAW5K,SAAQ,SAACgK,GAAc,IAAD,sBAMrD,kDALII,EAAM,IAEV,UAAAnG,EAAKZ,UAAL,mBAAauH,iBAAb,mBAAyBZ,UAAzB,eAAoCK,KAAKC,cAAzC,UACArG,EAAKZ,UADL,iBACA,EAAauH,iBADb,iBACA,EAAyBZ,UADzB,iBACA,EAAoCO,aADpC,aACA,EAA2CC,eAD3C,UAEAvG,EAAKZ,UAFL,iBAEA,EAAauH,iBAFb,iBAEA,EAAyBZ,UAFzB,iBAEA,EAAoCO,aAFpC,aAEA,EAA2CE,eAE3CL,EAAI/G,MAAQA,EACZ+G,EAAIJ,SAAWA,EACfI,EAAIzD,WACD,UAAA1C,EAAKZ,UAAL,mBAAauH,iBAAb,mBAAyBZ,UAAzB,mBAAoCO,aAApC,eAA2CC,cAA3C,UACCvG,EAAKZ,UADN,iBACC,EAAauH,iBADd,iBACC,EAAyBZ,UAD1B,aACC,EAAoCK,KAAKC,YAC3C,KACAI,QAAQ,GACVN,EAAIxD,WACD,UAAA3C,EAAKZ,UAAL,mBAAauH,iBAAb,mBAAyBZ,UAAzB,mBAAoCO,aAApC,eAA2CE,cAA3C,UACCxG,EAAKZ,UADN,iBACC,EAAauH,iBADd,iBACC,EAAyBZ,UAD1B,aACC,EAAoCK,KAAKC,YAC3C,KACAI,QAAQ,GACVN,EAAIL,OACF,UAAA9F,EAAKZ,UAAL,mBAAauH,iBAAb,mBAAyBZ,UAAzB,mBAAoCO,aAApC,eAA2CC,cAA3C,UACAvG,EAAKZ,UADL,iBACA,EAAauH,iBADb,iBACA,EAAyBZ,UADzB,iBACA,EAAoCO,aADpC,aACA,EAA2CE,aAC7CL,EAAI1F,KAAJ,oBAAWT,EAAKZ,UAAhB,iBAAW,EAAagH,YAAxB,aAAW,EAAmBxF,YAA9B,QAAsC,GAClCuF,EAAIzD,SAAW,MACjByD,EAAIzD,SAAW,KAEbyD,EAAIxD,SAAW,MACjBwD,EAAIxD,SAAW,KAGfwD,EAAIzD,UACJyD,EAAIxD,UACJwD,EAAIzD,UAAY,KAChByD,EAAIxD,UAAY,KAEhBqD,EAAQU,KAAKP,UAKrBlG,EAAQgG,EAAc,2BACtBhG,EAAQ+F,EAAS,8BAElB,CAAChG,IAGF,sBAAK9C,UAAU,iBAAf,UACE,qBAAKA,UAAU,mCAAf,SACE,qBAAKiD,GAAG,yBAAR,SACE,oBAAIjD,UAAU,eAAd,+CAGJ,qBAAKA,UAAU,qCAAf,SACE,qBAAKiD,GAAG,yBAAR,SACE,oBAAIjD,UAAU,eAAd,sD,kBCrYK,SAAS0J,EAAyBC,EAAQC,GACvD,GAAc,MAAVD,EAAgB,MAAO,GAC3B,IACI7I,EAAKN,EADLqJ,ECHS,SAAuCF,EAAQC,GAC5D,GAAc,MAAVD,EAAgB,MAAO,GAC3B,IAEI7I,EAAKN,EAFLqJ,EAAS,GACTC,EAAad,OAAO1I,KAAKqJ,GAG7B,IAAKnJ,EAAI,EAAGA,EAAIsJ,EAAWC,OAAQvJ,IACjCM,EAAMgJ,EAAWtJ,GACboJ,EAASI,QAAQlJ,IAAQ,IAC7B+I,EAAO/I,GAAO6I,EAAO7I,IAGvB,OAAO+I,EDTM,CAA6BF,EAAQC,GAGlD,GAAIZ,OAAOiB,sBAAuB,CAChC,IAAIC,EAAmBlB,OAAOiB,sBAAsBN,GAEpD,IAAKnJ,EAAI,EAAGA,EAAI0J,EAAiBH,OAAQvJ,IACvCM,EAAMoJ,EAAiB1J,GACnBoJ,EAASI,QAAQlJ,IAAQ,GACxBkI,OAAOmB,UAAUC,qBAAqBhF,KAAKuE,EAAQ7I,KACxD+I,EAAO/I,GAAO6I,EAAO7I,IAIzB,OAAO+I,E,iEEcMQ,MA1BR,SAAsBvJ,EAAKwJ,EAASC,GAAqB,IAC9D,MAA8BlM,mBAASkM,GAAvC,mBAAOvJ,EAAP,KAAgBwJ,EAAhB,KAD8D,mBAANC,EAAM,iCAANA,EAAM,kBAG9D,MAA6CC,IAAM,WAAN,GAC3C5J,EACAwJ,EACAtJ,GAH2C,OAIxCyJ,IAJE3H,EAAP,EAAOA,KAAM6H,EAAb,EAAaA,aAAcC,EAA3B,EAA2BA,MAAUC,EAArC,OAeA,OARA3L,aAAgB,WACdsL,EACEM,YAAQ9J,GAAS,SAAC+J,GAChBA,EAAaC,YAAclI,QAG9B,CAACA,IAEG,2BACF+H,GADL,IAEEF,eACAC,QACA9H,U,6FCGEmI,EAAUC,gBAAK,kBAAMC,aAAM,kBAAM,kEACjCC,EAASF,gBAAK,kBAAMC,aAAM,kBAAM,oCAChCE,EAAQH,gBAAK,kBAAMC,aAAM,kBAAM,2DAC/BG,EAAoBJ,gBAAK,kBAC7BC,aAAM,kBAAM,2DAERI,EAAcL,gBAAK,kBAAMC,aAAM,kBAAM,iEACrCK,EAAcN,gBAAK,kBAAMC,aAAM,kBAAM,qCACrCM,EAAaP,gBAAK,kBAAMC,aAAM,kBAAM,kEACpCO,EAASR,gBAAK,kBAAMC,aAAM,kBAAM,qCAChCQ,EAAcT,gBAAK,kBAAMC,aAAM,kBAAM,oCACrCS,EAAQV,gBAAK,kBAAMC,aAAM,kBAAM,kEAC/BU,EAAqBX,gBAAK,kBAC9BC,aAAM,kBAAM,2DAyQCW,UAtQf,WAAiB,IAAD,IACd,EAAkDzN,mBAAS,CACzD0N,UAAW,KACXC,aAAc,OAFhB,mBAAOC,EAAP,KAA0BC,EAA1B,KAKA,EAA4BrL,YAAgB,SAAU,MAAtD,mBAAOsL,EAAP,KAAeC,EAAf,KACA,EAAsCvL,YAAgB,eAAe,GAArE,mBAAOwL,EAAP,KAAoBC,EAApB,KACA,EAAwCC,YACtC,eACA,UAFF,mBAAOC,EAAP,KAAqBC,EAArB,KAIA,EAA8B5L,YAAgB,UAAW6L,IAAUC,WAAnE,mBAAOC,EAAP,KAAgBC,EAAhB,KAEA,EAAwBxO,mBAAS,IAAjC,mBAAOqF,EAAP,KAAaoJ,GAAb,KACMC,GAAWC,cAEJC,GAAc5C,EAAa,GAAD,OAClC6C,IADkC,wBAErC5C,IACA,CACE6C,mBAAmB,EACnBC,gBAAiBC,MALdvK,KASAA,GAAQuH,EAAa,GAAD,OACtB6C,IADsB,gBACDxJ,EAAI,WAAOA,GAAS,GADnB,aAEzB4G,IACA,CACE6C,mBAAmB,EACnBC,gBAAiBC,MALdvK,KASDwK,GAAmB/N,mBACnBjB,GAAYH,YAAamP,IACxB1N,GAAS2N,cAAT3N,MAED4N,GAA4B,KAAT9J,GAAeA,EAAO+J,IACzCC,GACK,KAAThK,GACAA,EACEiK,YACEC,YAAQC,YAAeC,KAAyBC,KAChD,CAACC,eAAgB,SAGjBC,GACkD,IAAtDC,YAAY,OAACpL,SAAD,IAACA,QAAD,EAACA,GAAI,GAAU,QAAS,cAEhCqL,GAAeC,mBAAQ,WAAO,IAAD,gBAC3BC,EAAe,QACnBvL,SADmB,IACnBA,IADmB,UACnBA,GAAI,UADe,iBACnB,EAAcoG,YADK,aACnB,EAAoBxF,KADD,OAEnBZ,SAFmB,IAEnBA,IAFmB,UAEnBA,GAAI,UAFe,iBAEnB,EAAcoG,YAFK,iBAEnB,EAAoBoF,cAFD,aAEnB,EAA4B5K,KAFT,OAGnBZ,SAHmB,IAGnBA,IAHmB,UAGnBA,GAAI,UAHe,iBAGnB,EAAcoG,YAHK,iBAGnB,EAAoBqF,kBAHD,aAGnB,EAAgC7K,MAChC8K,QAAO,SAAC9K,GAAD,OAAUA,KACnB,OAAO2K,EAAatE,OAAS,EACzB4D,YAAUc,YAAIJ,EAAa9N,KAAI,SAACmD,GAAD,OAAUmK,YAAenK,OAAS,CAC/DsK,eAAgB,SAElB,OACH,CAAClL,KAEE4L,GAAkBN,mBAAQ,WAC9B,IAAMC,EAAerF,OAAO1I,KAAKwC,IAAQ,IACtCvC,KAAI,SAACwL,GAAD,sBAAejJ,SAAf,IAAeA,IAAf,UAAeA,GAAOiJ,UAAtB,iBAAe,EAAmB7C,YAAlC,aAAe,kBACnBsF,QAAO,SAACG,GAAD,OAAcA,KACxB,OAAON,EAAatE,OAAS,EACzB6E,YACEH,YAAIJ,EAAa9N,KAAI,SAACoO,GAAD,OAAcd,YAAec,QAEpD,OACH,CAAC7L,KAEE+L,GAAuBT,mBAC3B,kBAEEpF,OAAOrK,QAAQmE,IAAQ,IAAIgM,QAAO,SAACC,EAAD,GAAkC,IAAD,qBAA1BhD,EAA0B,KAAfiD,EAAe,KAcjE,OAbAD,EAAIhD,OACO,OAATiD,QAAS,IAATA,OAAA,EAAAA,EAAWvF,aAAX,UACAuF,EAAUvF,iBADV,aACA,EAAsBwF,OACtBC,IAAmBC,OACjB,SAACC,GAAD,OACElB,YAAac,EAAW,QAASI,KACjClB,YACEc,EAAUvF,UAAUwF,KACpB,QACAG,OAIDL,IACN,MACL,CAACjM,KAGGuM,IACa,OAAjBpD,QAAiB,IAAjBA,OAAA,EAAAA,EAAmBF,aAAnB,OACAE,QADA,IACAA,OADA,EACAA,EAAmBD,eACnBC,EAAkBD,eAAiBiD,KACnCJ,GAAqB5C,EAAkBF,WAEzC,OACE,qCACE,eAACuD,EAAA,EAAD,WACE,kFACA,sBACEC,KAAK,QACLC,QAAQ,gEAIZ,sBAAKxP,UAAU,OAAf,UACE,sBAAKA,UAAWyP,IAAW,YAAa,CAACC,SAAUrD,IAAnD,UACE,sBAAKrM,UAAU,SAAf,UACE,cAAC,WAAD,CAAU2P,SAAU,wBAApB,SACE,cAACjE,EAAD,OAGA5I,KAASmK,IAAc,qBAAK5H,MAAO,CAACnF,OAAQ,WAE9C,sCACI+M,IAAc,qBAAK5H,MAAO,CAACuK,UAAW,UACvC3C,IACC,cAAC,WAAD,CAAU0C,SAAU,qBAAKtK,MAAO,CAACuK,UAAW,UAA5C,SACE,cAAC3E,EAAD,CAEIvH,OACAoJ,WACA+C,MAAO7G,OAAO1I,KAAP,UAAY2M,GAAU,UAAtB,aAAY,EAAkB4C,OACrCnB,6BAQZ,sBAAKrJ,MAAO,CAACyK,SAAU,WAAYC,UAAW,QAA9C,UACGjN,IACC,eAAC,WAAD,CAAU6M,SAAU,qBAAKtK,MAAO,CAACnF,OAAQ,WAAzC,UACGN,IAAS,MAAQyM,GAChB,cAACb,EAAD,CAAkBgB,eAAcC,oBAElC,cAACpB,EAAD,CAAOvI,KAAMA,GAAI,QAIrB,sCACImK,IAAc,qBAAK5H,MAAO,CAACnF,OAAQ,WACpC+M,IACC,cAAC,WAAD,CAAU0C,SAAU,qBAAKtK,MAAO,CAACnF,OAAQ,WAAzC,SACE,cAACuL,EAAD,CACEwB,WAAU,UAAEA,GAAU,UAAZ,aAAE,EAAkB4C,MACzBnM,kBAObuK,IAAkB,cAAC3C,EAAD,CAAmBxI,KAAMA,GAAI,KAEhDA,IACC,cAAC,WAAD,CAAU6M,SAAU,cAAC/D,EAAA,EAAD,IAApB,SACE,cAAC,EAAD,CAEI9I,QACAmJ,oBACAC,uBACAG,cACAC,iBACAkB,oBACAE,wBACAO,kBACAE,gBACAU,+BAOV,qBACE7O,UAAWyP,IAAW,aAAc,CAACC,SAAUrD,IAC/C1M,IAAK2N,GACLjI,MAAO,CAACuK,UAAW,QAHrB,UAKItR,IAAayO,GAASiD,OACtB,qCACGlN,IACC,qBACE9C,UAAWyP,IAAW,gBAAiB,CACrCC,SAAUrD,EACV4D,SACa,gBAAX9D,GAA6BE,GAAezM,IAAS,MAJ3D,SAOE,eAAC,WAAD,CAAU+P,SAAU,qBAAKtK,MAAO,CAACnF,OAAQ,WAAzC,UACE,cAACyL,EAAD,CAAa7I,KAAMA,GAAI,GAAQiJ,UAAW,OAC1C,cAACR,EAAD,CAEIQ,UAAW,KACXjJ,QACA0J,eACAC,kBACAG,UACAC,aACAZ,oBACAC,uBACAC,SACAC,YACAC,cACA8B,gBACAX,oBACAE,wBACAO,kBACAoB,0CAOTpC,IACC,cAAC,WAAD,CAAU0C,SAAU,qBAAKtK,MAAO,CAACnF,OAAQ,WAAzC,SACE,cAAC2L,EAAD,CACEE,UAAU,KAERkB,cACAvJ,OACAuI,oBACAC,uBACAC,SACAC,YACAC,cACA4B,kBACAoB,gDAWdpB,IAAkBnL,GAAK8E,GAAG6B,WAC1B,cAAC,EAAD,CAAwB3G,KAAMA,KAG/BxE,IACC,cAAC,WAAD,CAAUqR,SAAU,wBAApB,SACE,cAACvE,EAAD","file":"static/js/24.52349789.chunk.js","sourcesContent":["import {useState, useEffect} from 'react';\n\nconst OPTIONS = {\n  root: null,\n  rootMargin: '0px 0px 0px 0px',\n  threshold: 0,\n};\n\nconst useIsVisible = (elementRef) => {\n  const [isVisible, setIsVisible] = useState(false);\n\n  useEffect(() => {\n    if (elementRef.current) {\n      const observer = new IntersectionObserver((entries, observer) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting) {\n            setIsVisible(true);\n            observer.unobserve(elementRef.current);\n          }\n        });\n      }, OPTIONS);\n      observer.observe(elementRef.current);\n    }\n  }, [elementRef]);\n\n  return isVisible;\n};\n\nexport default useIsVisible;\n","import { useEffect } from 'react';\nimport { useFirstMountState } from './useFirstMountState';\nvar useUpdateEffect = function (effect, deps) {\n    var isFirstMount = useFirstMountState();\n    useEffect(function () {\n        if (!isFirstMount) {\n            return effect();\n        }\n    }, deps);\n};\nexport default useUpdateEffect;\n","import { useRef } from 'react';\nexport function useFirstMountState() {\n    var isFirst = useRef(true);\n    if (isFirst.current) {\n        isFirst.current = false;\n        return true;\n    }\n    return isFirst.current;\n}\n","import ContentLoader from 'react-content-loader';\nimport {useMeasure} from 'react-use';\n\nconst TableLoader = () => {\n  let [ref, {width}] = useMeasure();\n  const windowWidth = window.innerWidth;\n\n  width = width || (windowWidth >= 769 ? 528 : windowWidth);\n  if (windowWidth < 769) {\n    width -= 30;\n  }\n\n  const height = 45;\n  const rows = 20;\n\n  return (\n    <div ref={ref} className=\"TableLoader\">\n      <ContentLoader\n        viewBox={`0 0 ${width} ${height * rows}`}\n        height={height * rows}\n        width={width}\n        speed={2}\n        animate={false}\n      >\n        {[...Array(rows).keys()].map((i) => (\n          <rect\n            key={i}\n            x=\"0\"\n            y={height * i}\n            rx=\"3\"\n            ry=\"3\"\n            width={width}\n            height={height - 5}\n          />\n        ))}\n      </ContentLoader>\n    </div>\n  );\n};\n\nexport default TableLoader;\n","import { useCallback, useState, useRef, useLayoutEffect } from 'react';\nimport { isBrowser, noop } from './misc/util';\nvar useLocalStorage = function (key, initialValue, options) {\n    if (!isBrowser) {\n        return [initialValue, noop, noop];\n    }\n    if (!key) {\n        throw new Error('useLocalStorage key may not be falsy');\n    }\n    var deserializer = options\n        ? options.raw\n            ? function (value) { return value; }\n            : options.deserializer\n        : JSON.parse;\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var initializer = useRef(function (key) {\n        try {\n            var serializer = options ? (options.raw ? String : options.serializer) : JSON.stringify;\n            var localStorageValue = localStorage.getItem(key);\n            if (localStorageValue !== null) {\n                return deserializer(localStorageValue);\n            }\n            else {\n                initialValue && localStorage.setItem(key, serializer(initialValue));\n                return initialValue;\n            }\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw. JSON.parse and JSON.stringify\n            // can throw, too.\n            return initialValue;\n        }\n    });\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var _a = useState(function () { return initializer.current(key); }), state = _a[0], setState = _a[1];\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useLayoutEffect(function () { return setState(initializer.current(key)); }, [key]);\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var set = useCallback(function (valOrFunc) {\n        try {\n            var newState = typeof valOrFunc === 'function' ? valOrFunc(state) : valOrFunc;\n            if (typeof newState === 'undefined')\n                return;\n            var value = void 0;\n            if (options)\n                if (options.raw)\n                    if (typeof newState === 'string')\n                        value = newState;\n                    else\n                        value = JSON.stringify(newState);\n                else if (options.serializer)\n                    value = options.serializer(newState);\n                else\n                    value = JSON.stringify(newState);\n            else\n                value = JSON.stringify(newState);\n            localStorage.setItem(key, value);\n            setState(deserializer(value));\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw. Also JSON.stringify can throw.\n        }\n    }, [key, setState]);\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var remove = useCallback(function () {\n        try {\n            localStorage.removeItem(key);\n            setState(undefined);\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw.\n        }\n    }, [key, setState]);\n    return [state, set, remove];\n};\nexport default useLocalStorage;\n","import {STATE_NAMES} from '../constants';\n\nimport {useEffect} from 'react';\n\nconst VaccinationScatterPlot = (props) => {\n  const {data} = props;\n  const scatter = (json, id) => {\n    const margin = {top: 60, left: 35, bottom: 35, right: 50};\n    const heightValue = 400;\n    const widthValue = 800;\n    const getCurrentDate = (lastUpdated, separator = ' ') => {\n      const newDate = new Date(lastUpdated);\n\n      const month = newDate.toLocaleString('default', {month: 'long'});\n      const date = newDate.getDate();\n\n      return `${date < 10 ? `0${date}` : `${date}`}${separator}${month}`;\n    };\n\n    const currentdate = getCurrentDate(json[0]?.Date ?? json[1]?.Date);\n    /*\n     * The next block of code selects the id scatterplot-stats on the web page\n     * and appends an svg object to it of the size\n     * that we have set up with our width, height and margin’s.\n     */\n    d3.selectAll(id).selectAll('svg').remove();\n    d3.selectAll(id).selectAll('#date').remove();\n    d3.select(id)\n      .append('div')\n      .attr('id', 'date')\n      .attr('class', 'graphtext')\n      .html(`${currentdate}`);\n    let svg = d3\n      .select(id)\n      .append('svg')\n      .attr('viewBox', `0 0 ${widthValue} ${heightValue}`);\n\n    const strokeWidth = 1.5;\n\n    const width = widthValue - margin.left - margin.right - strokeWidth * 2;\n    const height = heightValue - margin.top - margin.bottom;\n\n    const y = d3.scale.linear().range([height, 0]);\n    const x = d3.scale.linear().range([0, width]);\n\n    // let prefix = d3.formatPrefix(1.21e9);\n    const xAxis = d3.svg\n      .axis()\n      .scale(x)\n      .ticks(6)\n      .tickFormat(function (d) {\n        const prefix = d3.formatPrefix(d);\n        return prefix.scale(d) + prefix.symbol;\n      })\n      .orient('bottom');\n\n    const yAxis = d3.svg\n      .axis()\n      .scale(y)\n      .orient('right')\n      .ticks(6)\n      .tickFormat(function (d) {\n        const prefix = d3.formatPrefix(d);\n        return prefix.scale(d) + prefix.symbol;\n      });\n\n    svg\n      .append('rect')\n      .attr('width', width + margin.left + margin.right)\n      .attr('height', height + margin.top + margin.bottom)\n      .attr('x', 0)\n      .attr('y', 0)\n      .attr('fill', '#E3E2F3')\n      .attr('rx', 4)\n      .attr('fill-opacity', 1);\n    // It also adds a g element that provides a reference point for adding our axes.\n    svg = svg\n      .append('g')\n      .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n\n    const tooltip = d3.select(id).append('div').attr('class', 'tooltip');\n\n    // function getColor(arg) {\n    //   return getRandomColor()\n    // }\n\n    function getRandomColor(str) {\n      const colorObj = {\n        AN: 'rgb(128,0,0)',\n        AP: 'rgb(165,42,42)',\n        AR: 'rgb(220,20,60)',\n        AS: 'rgb(255,0,0)',\n        BR: 'rgb(134,134,20)',\n        CH: 'rgb(255,140,0)',\n        CT: 'rgb(255,165,0)',\n        DL: 'rgb(255,215,0)',\n        DN: 'rgb(184,134,11)',\n        GA: 'rgb(218,165,32)',\n        GJ: 'rgb(189,183,107)',\n        HP: 'rgb(240,230,140)',\n        HR: 'rgb(154,205,50)',\n        JH: 'rgb(85,107,47)',\n        JK: 'rgb(124,252,0)',\n        KA: 'rgb(152,251,152)',\n        KL: 'rgb(143,188,143)',\n        LA: 'rgb(47,79,79)',\n        LD: 'rgb(0,139,139)',\n        MH: 'rgb(0,255,255)',\n        ML: 'rgb(70,130,180)',\n        MN: 'rgb(0,191,255)',\n        MP: 'rgb(30,144,255)',\n        MZ: 'rgb(135,206,250)',\n        NL: 'rgb(25,25,112)',\n        OR: 'rgb(0,0,205)',\n        PB: 'rgb(138,43,226)',\n        PY: 'rgb(139,0,139)',\n        RJ: 'rgb(186,85,211)',\n        SK: 'rgba(238,130,238)',\n        TG: 'rgb(199,21,133)',\n        TN: 'rgb(139,69,19)',\n        TR: 'rgb(210,105,30)',\n        TT: 'rgb(255,228,181)',\n        UP: 'rgb(218,112,214)',\n        UT: 'rgb(128,128,128)',\n        WB: 'rgb(255,218,185)',\n      };\n      // const letters = '0123456789ABCDEF';\n      // let color = '#';\n      // for (let i = 0; i < 6; i++) {\n      //   color += letters[Math.floor(Math.random() * 16)];\n      // }\n      return colorObj[str];\n      // let hash = 0;\n      // for (let i = 0; i < str.length; i++) {\n      //   hash = str.charCodeAt(i) + ((hash << 5) - hash);\n      // }\n      // let colour = '#';\n      // for (let i = 0; i < 3; i++) {\n      //   const value = (hash >> (i * 8)) & 0xFF;\n      //   colour += ('00' + value.toString(16)).substr(-2);\n      // }\n      // return colour;\n    }\n\n    /*\n     * this function is like mouse over.\n     * If we place the mouse over a circle the tooltip is going to show up.\n     */\n    function showToolTip(d, i) {\n      tooltip.style({\n        display: 'block',\n        'min-height': '100px',\n        width: '200px',\n        padding: '5px',\n        opacity: 1,\n        'background-color': d.color,\n      });\n      // const circle = d3.event.target;\n      // const tippadding = 5;\n      const tipsize = {\n        dx: parseInt(tooltip.style('width')),\n        dy: parseInt(tooltip.style('height')),\n      };\n      if (id === '#scatterplotstate-stats') {\n        tooltip\n          .style({\n            top: d3.event.pageY - tipsize.dy - 5 + 'px',\n            left: d3.event.pageX - tipsize.dx + 100 + 'px',\n          })\n          .html(\n            '<span><b>State: ' +\n              STATE_NAMES[d.state] +\n              '<br/>' +\n              'Vaccine Dose 1: ' +\n              d.Vaccine1 +\n              '% <br/>' +\n              'Vaccine Dose 2: ' +\n              d.Vaccine2 +\n              '%<br/>' +\n              'Total Vaccinations: ' +\n              d.Total\n          );\n      } else if (id === '#scatterplottotal-stats') {\n        tooltip\n          .style({\n            top: d3.event.pageY - tipsize.dy - 5 + 'px',\n            left: d3.event.pageX - tipsize.dx + 100 + 'px',\n          })\n          .html(\n            '<span><b>District: ' +\n              d.district +\n              '<br/>' +\n              'State: ' +\n              STATE_NAMES[d.state] +\n              '<br/>' +\n              'Vaccine Dose 1: ' +\n              d.Vaccine1 +\n              '% <br/>' +\n              'Vaccine Dose 2: ' +\n              d.Vaccine2 +\n              '%<br/>' +\n              'Total Vaccinations: ' +\n              d.Total\n          );\n      }\n    }\n\n    /*\n     * This function is like mouse out.\n     * If we mouse out then the tooltip is hidding\n     */\n    function hideToolTip(d, i) {\n      tooltip.style({\n        display: 'none',\n      });\n    }\n\n    /*\n     * d3.json takes the variable url and two more parameters\n     * if error, then throw it\n     * else map the time-date in the horizontal axis and the rank-position in the verticall axis\n     */\n    // d3.json(json, (error, data) => {\n    const data = json;\n    if (!data) {\n      throw new Error('d3.json error');\n    } else {\n      x.domain([0, 100]);\n      y.domain([0, 100]);\n\n      svg\n        .append('g')\n        .attr('class', 'x axis')\n        .attr('transform', 'translate(0,' + height + ')')\n        .call(xAxis)\n        .append('text')\n        .style('fill', 'red')\n        .attr('transform', 'translate(' + (width/2) + \", 30)\")\n        .attr('text-anchor', 'middle')\n        .text('Vaccine Dose 1 %');\n\n      svg\n        .append('g')\n        .attr('class', 'y axis')\n        .attr('transform', 'translate(' + width + ', 0)')\n        .call(yAxis)\n        .append('text')\n        .attr('transform', 'rotate(-90)')\n        .attr(\"y\", 40)\n        .attr(\"x\", 0 - (height / 2))\n        .attr('text-anchor', 'middle')\n        .style(\"fill\", \"red\")\n        .text('Vaccine Dose 2 %');\n\n      /*\n       * we add the cyclists to our scatterplot\n       * This block of code creates the cyclists (selectAll(\".cyclist\"))\n       * and associates each of them with a data set (.data(data)).\n       * We then append a circle\n       * with values for x/y position and height/width as configured in our earlier code.\n       * we parse the time and the place\n       */\n      const districts = svg\n        .selectAll('.cyclist')\n        .data(data)\n        .enter()\n        .append('g')\n        .attr('class', 'cyclist')\n        .attr('x', (d) => {\n          return x(d.Vaccine1);\n        })\n        .attr('y', (d) => {\n          return y(d.Vaccine2);\n        });\n\n      districts\n        .append('circle')\n        .attr('cx', (d) => {\n          return x(d.Vaccine1);\n        })\n        .attr('cy', (d) => {\n          return y(d.Vaccine2);\n        })\n        .attr('r', 5)\n        .attr('class', 'circlegraph')\n        .attr('fill', (d) => {\n          const color = getRandomColor(d.state);\n          d.color = color;\n          return color;\n        })\n        .on('mouseover', showToolTip)\n        .on('mouseout', hideToolTip);\n    }\n  };\n\n  useEffect(() => {\n    const details = [];\n    const stateDetails = [];\n    if (data) {\n      Object.keys(data).forEach((state) => {\n        if (state) {\n          const obj = {};\n          if (\n            data[state]?.meta?.population &&\n            data[state]?.total?.vaccinated1 &&\n            data[state]?.total?.vaccinated2\n          ) {\n            obj.state = state;\n            obj.district = '';\n            obj.Vaccine1 = (\n              (data[state]?.total?.vaccinated1 / data[state]?.meta.population) *\n              100\n            ).toFixed(2);\n            obj.Vaccine2 = (\n              (data[state]?.total?.vaccinated2 / data[state]?.meta.population) *\n              100\n            ).toFixed(2);\n            obj.Total =\n              data[state]?.total?.vaccinated1 + data[state]?.total?.vaccinated2;\n            obj.Date = data[state]?.meta?.date ?? '';\n            if (obj.Vaccine1 > 100) {\n              obj.Vaccine1 = 100;\n            }\n            if (obj.Vaccine2 > 100) {\n              obj.Vaccine2 = 100;\n            }\n            if (\n              obj.Vaccine1 &&\n              obj.Vaccine2 &&\n              obj.Vaccine1 <= 100 &&\n              obj.Vaccine2 <= 100\n            ) {\n              stateDetails.push(obj);\n            }\n          }\n        }\n        Object.keys(data[state].districts).forEach((district) => {\n          const obj = {};\n          if (\n            data[state]?.districts?.[district]?.meta.population &&\n            data[state]?.districts?.[district]?.total?.vaccinated1 &&\n            data[state]?.districts?.[district]?.total?.vaccinated2\n          ) {\n            obj.state = state;\n            obj.district = district;\n            obj.Vaccine1 = (\n              (data[state]?.districts?.[district]?.total?.vaccinated1 /\n                data[state]?.districts?.[district]?.meta.population) *\n              100\n            ).toFixed(2);\n            obj.Vaccine2 = (\n              (data[state]?.districts?.[district]?.total?.vaccinated2 /\n                data[state]?.districts?.[district]?.meta.population) *\n              100\n            ).toFixed(2);\n            obj.Total =\n              data[state]?.districts?.[district]?.total?.vaccinated1 +\n              data[state]?.districts?.[district]?.total?.vaccinated2;\n            obj.Date = data[state]?.meta?.date ?? '';\n            if (obj.Vaccine1 > 100) {\n              obj.Vaccine1 = 100;\n            }\n            if (obj.Vaccine2 > 100) {\n              obj.Vaccine2 = 100;\n            }\n            if (\n              obj.Vaccine1 &&\n              obj.Vaccine2 &&\n              obj.Vaccine1 <= 100 &&\n              obj.Vaccine2 <= 100\n            ) {\n              details.push(obj);\n            }\n          }\n        });\n      });\n      scatter(stateDetails, '#scatterplotstate-stats');\n      scatter(details, '#scatterplottotal-stats');\n    }\n  }, [data]);\n\n  return (\n    <div className=\"Home homegraph\">\n      <div className=\"home-left home-left--graphmargin\">\n        <div id=\"scatterplotstate-stats\">\n          <h1 className=\"text-center \">Vaccination Coverage (States)</h1>\n        </div>\n      </div>\n      <div className=\"home-right home-right--graphmargin\">\n        <div id=\"scatterplottotal-stats\">\n          <h1 className=\"text-center \">Vaccination Coverage (Districts)</h1>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default VaccinationScatterPlot;\n","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import produce from 'immer';\nimport {useState} from 'react';\nimport {useUpdateEffect} from 'react-use';\nimport useSWR from 'swr';\n\nexport function useStickySWR(key, fetcher, swrOptions, ...args) {\n  const [options, setOptions] = useState(swrOptions);\n\n  const {data, isValidating, error, ...rest} = useSWR(\n    key,\n    fetcher,\n    options,\n    ...args\n  );\n\n  useUpdateEffect(() => {\n    setOptions(\n      produce(options, (draftOptions) => {\n        draftOptions.initialData = data;\n      })\n    );\n  }, [data]);\n\n  return {\n    ...rest,\n    isValidating,\n    error,\n    data,\n  };\n}\n\nexport default useStickySWR;\n","import TableLoader from './loaders/Table';\nimport VaccinationScatterPlot from './ScatterPlot';\n\nimport {\n  API_REFRESH_INTERVAL,\n  DATA_API_ROOT,\n  DISTRICT_START_DATE,\n  DISTRICT_TEST_END_DATE,\n  MAP_VIEWS,\n  PRIMARY_STATISTICS,\n  TESTED_EXPIRING_DAYS,\n  UNKNOWN_DISTRICT_KEY,\n} from '../constants';\nimport useIsVisible from '../hooks/useIsVisible';\nimport useStickySWR from '../hooks/useStickySWR';\nimport {\n  fetcher,\n  formatDateObjIndia,\n  getStatistic,\n  parseIndiaDate,\n  retry,\n} from '../utils/commonFunctions';\n\nimport classnames from 'classnames';\nimport {addDays, formatISO, max} from 'date-fns';\nimport {useMemo, useRef, useState, lazy, Suspense} from 'react';\nimport {Helmet} from 'react-helmet';\nimport {useLocation} from 'react-router-dom';\nimport {useLocalStorage, useSessionStorage, useWindowSize} from 'react-use';\n\nconst Actions = lazy(() => retry(() => import('./Actions')));\nconst Footer = lazy(() => retry(() => import('./Footer')));\nconst Level = lazy(() => retry(() => import('./Level')));\nconst VaccinationHeader = lazy(() =>\n  retry(() => import('./VaccinationHeader'))\n);\nconst MapExplorer = lazy(() => retry(() => import('./MapExplorer')));\nconst MapSwitcher = lazy(() => retry(() => import('./MapSwitcher')));\nconst Minigraphs = lazy(() => retry(() => import('./Minigraphs')));\nconst Search = lazy(() => retry(() => import('./Search')));\nconst StateHeader = lazy(() => retry(() => import('./StateHeader')));\nconst Table = lazy(() => retry(() => import('./Table')));\nconst TimeseriesExplorer = lazy(() =>\n  retry(() => import('./TimeseriesExplorer'))\n);\n\nfunction Home() {\n  const [regionHighlighted, setRegionHighlighted] = useState({\n    stateCode: 'TT',\n    districtName: null,\n  });\n\n  const [anchor, setAnchor] = useLocalStorage('anchor', null);\n  const [expandTable, setExpandTable] = useLocalStorage('expandTable', false);\n  const [mapStatistic, setMapStatistic] = useSessionStorage(\n    'mapStatistic',\n    'active'\n  );\n  const [mapView, setMapView] = useLocalStorage('mapView', MAP_VIEWS.DISTRICTS);\n\n  const [date, setDate] = useState('');\n  const location = useLocation();\n\n  const {data: timeseries} = useStickySWR(\n    `${DATA_API_ROOT}/timeseries.min.json`,\n    fetcher,\n    {\n      revalidateOnMount: true,\n      refreshInterval: API_REFRESH_INTERVAL,\n    }\n  );\n\n  const {data} = useStickySWR(\n    `${DATA_API_ROOT}/data${date ? `-${date}` : ''}.min.json`,\n    fetcher,\n    {\n      revalidateOnMount: true,\n      refreshInterval: API_REFRESH_INTERVAL,\n    }\n  );\n\n  const homeRightElement = useRef();\n  const isVisible = useIsVisible(homeRightElement);\n  const {width} = useWindowSize();\n\n  const hideDistrictData = date !== '' && date < DISTRICT_START_DATE;\n  const hideDistrictTestData =\n    date === '' ||\n    date >\n      formatISO(\n        addDays(parseIndiaDate(DISTRICT_TEST_END_DATE), TESTED_EXPIRING_DAYS),\n        {representation: 'date'}\n      );\n\n  const hideVaccinated =\n    getStatistic(data?.['TT'], 'total', 'vaccinated') === 0;\n\n  const lastDataDate = useMemo(() => {\n    const updatedDates = [\n      data?.['TT']?.meta?.date,\n      data?.['TT']?.meta?.tested?.date,\n      data?.['TT']?.meta?.vaccinated?.date,\n    ].filter((date) => date);\n    return updatedDates.length > 0\n      ? formatISO(max(updatedDates.map((date) => parseIndiaDate(date))), {\n          representation: 'date',\n        })\n      : null;\n  }, [data]);\n\n  const lastUpdatedDate = useMemo(() => {\n    const updatedDates = Object.keys(data || {})\n      .map((stateCode) => data?.[stateCode]?.meta?.['last_updated'])\n      .filter((datetime) => datetime);\n    return updatedDates.length > 0\n      ? formatDateObjIndia(\n          max(updatedDates.map((datetime) => parseIndiaDate(datetime)))\n        )\n      : null;\n  }, [data]);\n\n  const noDistrictDataStates = useMemo(\n    () =>\n      // Heuristic: All cases are in Unknown\n      Object.entries(data || {}).reduce((res, [stateCode, stateData]) => {\n        res[stateCode] = !!(\n          stateData?.districts &&\n          stateData.districts?.[UNKNOWN_DISTRICT_KEY] &&\n          PRIMARY_STATISTICS.every(\n            (statistic) =>\n              getStatistic(stateData, 'total', statistic) ===\n              getStatistic(\n                stateData.districts[UNKNOWN_DISTRICT_KEY],\n                'total',\n                statistic\n              )\n          )\n        );\n        return res;\n      }, {}),\n    [data]\n  );\n\n  const noRegionHighlightedDistrictData =\n    regionHighlighted?.stateCode &&\n    regionHighlighted?.districtName &&\n    regionHighlighted.districtName !== UNKNOWN_DISTRICT_KEY &&\n    noDistrictDataStates[regionHighlighted.stateCode];\n\n  return (\n    <>\n      <Helmet>\n        <title>Coronavirus Outbreak in India - incovid19.org</title>\n        <meta\n          name=\"title\"\n          content=\"Coronavirus Outbreak in India: Latest Map and Case Count\"\n        />\n      </Helmet>\n\n      <div className=\"Home\">\n        <div className={classnames('home-left', {expanded: expandTable})}>\n          <div className=\"header\">\n            <Suspense fallback={<div />}>\n              <Search />\n            </Suspense>\n\n            {!data && !timeseries && <div style={{height: '60rem'}} />}\n\n            <>\n              {!timeseries && <div style={{minHeight: '61px'}} />}\n              {timeseries && (\n                <Suspense fallback={<div style={{minHeight: '61px'}} />}>\n                  <Actions\n                    {...{\n                      date,\n                      setDate,\n                      dates: Object.keys(timeseries['TT']?.dates),\n                      lastUpdatedDate,\n                    }}\n                  />\n                </Suspense>\n              )}\n            </>\n          </div>\n\n          <div style={{position: 'relative', marginTop: '1rem'}}>\n            {data && (\n              <Suspense fallback={<div style={{height: '50rem'}} />}>\n                {width >= 769 && !expandTable && (\n                  <MapSwitcher {...{mapStatistic, setMapStatistic}} />\n                )}\n                <Level data={data['TT']} />\n              </Suspense>\n            )}\n\n            <>\n              {!timeseries && <div style={{height: '123px'}} />}\n              {timeseries && (\n                <Suspense fallback={<div style={{height: '123px'}} />}>\n                  <Minigraphs\n                    timeseries={timeseries['TT']?.dates}\n                    {...{date}}\n                  />\n                </Suspense>\n              )}\n            </>\n          </div>\n\n          {!hideVaccinated && <VaccinationHeader data={data['TT']} />}\n\n          {data && (\n            <Suspense fallback={<TableLoader />}>\n              <Table\n                {...{\n                  data,\n                  regionHighlighted,\n                  setRegionHighlighted,\n                  expandTable,\n                  setExpandTable,\n                  hideDistrictData,\n                  hideDistrictTestData,\n                  hideVaccinated,\n                  lastDataDate,\n                  noDistrictDataStates,\n                }}\n              />\n            </Suspense>\n          )}\n        </div>\n\n        <div\n          className={classnames('home-right', {expanded: expandTable})}\n          ref={homeRightElement}\n          style={{minHeight: '4rem'}}\n        >\n          {(isVisible || location.hash) && (\n            <>\n              {data && (\n                <div\n                  className={classnames('map-container', {\n                    expanded: expandTable,\n                    stickied:\n                      anchor === 'mapexplorer' || (expandTable && width >= 769),\n                  })}\n                >\n                  <Suspense fallback={<div style={{height: '50rem'}} />}>\n                    <StateHeader data={data['TT']} stateCode={'TT'} />\n                    <MapExplorer\n                      {...{\n                        stateCode: 'TT',\n                        data,\n                        mapStatistic,\n                        setMapStatistic,\n                        mapView,\n                        setMapView,\n                        regionHighlighted,\n                        setRegionHighlighted,\n                        anchor,\n                        setAnchor,\n                        expandTable,\n                        lastDataDate,\n                        hideDistrictData,\n                        hideDistrictTestData,\n                        hideVaccinated,\n                        noRegionHighlightedDistrictData,\n                      }}\n                    />\n                  </Suspense>\n                </div>\n              )}\n\n              {timeseries && (\n                <Suspense fallback={<div style={{height: '50rem'}} />}>\n                  <TimeseriesExplorer\n                    stateCode=\"TT\"\n                    {...{\n                      timeseries,\n                      date,\n                      regionHighlighted,\n                      setRegionHighlighted,\n                      anchor,\n                      setAnchor,\n                      expandTable,\n                      hideVaccinated,\n                      noRegionHighlightedDistrictData,\n                    }}\n                  />\n                </Suspense>\n              )}\n            </>\n          )}\n        </div>\n      </div>\n\n      {/* TODO: WIP districts missing for TT before Nov 1 */}\n      {!hideVaccinated && data.TT.districts && (\n        <VaccinationScatterPlot data={data} />\n      )}\n\n      {isVisible && (\n        <Suspense fallback={<div />}>\n          <Footer />\n        </Suspense>\n      )}\n    </>\n  );\n}\n\nexport default Home;\n"],"sourceRoot":""}