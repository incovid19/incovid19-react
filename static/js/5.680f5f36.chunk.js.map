{"version":3,"sources":["components/Tooltip.js","components/snippets/Icons.js","../../src/types.ts","../../src/index.ts","components/loaders/MapVisualizer.js","components/StatisticDropdown.js","components/MapExplorer.js","../node_modules/fast-deep-equal/index.js"],"names":["Tooltip","children","message","hold","childProps","handleClick","useCallback","e","stopPropagation","className","content","dangerouslySetInnerHTML","__html","trim","split","map","text","join","arrow","animation","touch","onClick","Delta7Icon","size","PerLakhIcon","DistrictIcon","LEFT","RIGHT","UP","DOWN","defaultProps","delta","preventDefaultTouchmoveEvent","rotationAngle","trackMouse","trackTouch","initialState","first","initial","start","swiping","xy","mouseMove","mouseUp","touchEnd","touchMove","touchStart","absX","deltaX","deltaY","angle","pos","angleInRadians","Math","onStart","event","set","props","document","rotateXYByAngle","clientX","clientY","onMove","x","y","state","absY","time","velocity","vxvy","dir","getDirection","eventData","cancelablePageSwipe","onEnd","onSwipedDir","cleanUpMouse","onUp","attachTouch","el","passive","cleanup","tls","h","output","ref","addState","handlerProps","useSwipeable","options","transientState","React","transientProps","useMemo","getHandlers","stateSetter","handlers","updateTransientState","MapVisualizerLoader","width","statistic","windowWidth","window","innerWidth","mapHeight","height","MAP_LEGEND_HEIGHT","viewBox","speed","backgroundColor","STATISTIC_CONFIGS","color","cx","cy","r","StatisticDropdown","currentStatistic","isPerLakh","delta7Mode","mapStatistic","setMapStatistic","mapType","hideDistrictTestData","hideVaccinated","zoneColor","t","useTranslation","useMeasure","wrapperRef","selectRef","useRef","currentStatisticConfig","statistics","filteredStatistics","TABLE_STATISTICS_EXPANDED","filter","MAP_TYPES","COUNTRY","category","includes","handleChange","target","value","useEffect","tempSelect","createElement","tempOption","textContent","displayName","style","cssText","appendChild","current","after","tempSelectWidth","getBoundingClientRect","remove","classnames","outlineColor","onChange","statisticConfig","capitalize","nonLinear","showDelta","onlyDelta7","isEqual","prevProps","currProps","equal","memo","MapVisualizer","lazy","retry","MapExplorer","stateCode","mapCode","data","mapView","MAP_VIEWS","DISTRICTS","setMapView","regionHighlighted","setRegionHighlighted","noRegionHighlightedDistrictData","anchor","setAnchor","expandTable","lastDataDate","hideDistrictData","noDistrictData","mapExplorerRef","useWindowSize","useSessionStorage","setIsPerLakh","setDelta7Mode","mapMeta","MAP_META","mapData","isDistrictView","STATE","hoveredRegion","hoveredData","districtName","districts","produce","draft","name","STATE_NAMES","handlePerLakhClick","handleDistrictClick","newMapView","STATES","history","useHistory","panelRef","location","hash","scrollIntoView","trail","styles","element","index","push","animationDelay","getMapStatistic","type","getStatistic","expiredDate","normalizedByPopulationPer","canBeNaN","currentVal","isNaN","spring","useSpring","total","config","tension","SPRING_CONFIG_NUMBERS","mapStatistics","MAP_STATISTICS","handleStatisticChange","direction","currentIndex","indexOf","toIndex","length","swipeHandlers","onSwipedLeft","bind","this","onSwipedRight","mapViz","mapConfig","spike","MAP_VIZS","SPIKE","colorScale","CHOROPLETH","BUBBLE","handleDeltaClick","stickied","transformStatistic","val","transformFn","hidden","display","UNKNOWN_DISTRICT_KEY","div","to","hasPrimary","formatNumber","format","disabled","fallback","clientWidth","TT","meta","module","exports","a","b","constructor","i","keys","Array","isArray","RegExp","source","flags","valueOf","Object","prototype","toString","hasOwnProperty","call","key"],"mappings":"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","file":"static/js/5.680f5f36.chunk.js","sourcesContent":["import Tippy from '@tippyjs/react';\nimport {useCallback} from 'react';\n\nimport 'tippy.js/dist/tippy.css';\nimport 'tippy.js/animations/shift-away.css';\n\nfunction Tooltip({children, message, hold = false, childProps = {}}) {\n  const handleClick = useCallback((e) => e.stopPropagation(), []);\n\n  return (\n    <Tippy\n      className=\"Tooltip\"\n      content={\n        typeof message === 'string' ? (\n          <p\n            className=\"message\"\n            dangerouslySetInnerHTML={{\n              __html: message\n                .trim()\n                .split('\\n')\n                .map((text) => `<div>${text}</div>`)\n                .join(''),\n            }}\n          ></p>\n        ) : (\n          message\n        )\n      }\n      arrow={false}\n      animation=\"shift-away\"\n      touch={hold ? ['hold', 300] : true}\n    >\n      <div onClick={handleClick} {...childProps}>\n        {children}\n      </div>\n    </Tippy>\n  );\n}\n\nexport default Tooltip;\n","import {OrganizationIcon, PeopleIcon, PulseIcon} from '@primer/octicons-react';\n\nexport const Delta7Icon = () => (\n  <div className=\"Icons\">\n    <PulseIcon size={16} />\n    <span>7D</span>\n  </div>\n);\n\nexport const PerLakhIcon = () => (\n  <div className=\"Icons\">\n    <PeopleIcon size={16} />\n    <span>1L</span>\n  </div>\n);\n\nexport const DistrictIcon = () => (\n  <div className=\"Icons\">\n    <OrganizationIcon size={16} />\n  </div>\n);\n","import * as React from \"react\";\n\nexport const LEFT = \"Left\";\nexport const RIGHT = \"Right\";\nexport const UP = \"Up\";\nexport const DOWN = \"Down\";\nexport type HandledEvents = React.MouseEvent | TouchEvent | MouseEvent;\nexport type Vector2 = [number, number];\nexport type SwipeDirections =\n  | typeof LEFT\n  | typeof RIGHT\n  | typeof UP\n  | typeof DOWN;\nexport interface SwipeEventData {\n  absX: number;\n  absY: number;\n  deltaX: number;\n  deltaY: number;\n  dir: SwipeDirections;\n  event: HandledEvents;\n  first: boolean;\n  initial: Vector2;\n  velocity: number;\n  vxvy: Vector2;\n}\n\nexport type SwipeCallback = (eventData: SwipeEventData) => void;\nexport type TapCallback = ({ event }: { event: HandledEvents }) => void;\n\nexport type SwipeableCallbacks = {\n  // Event handler/callbacks\n  onSwipeStart: SwipeCallback;\n  onSwiped: SwipeCallback;\n  onSwipedDown: SwipeCallback;\n  onSwipedLeft: SwipeCallback;\n  onSwipedRight: SwipeCallback;\n  onSwipedUp: SwipeCallback;\n  onSwiping: SwipeCallback;\n  onTap: TapCallback;\n};\n\n// Configuration Options\nexport interface ConfigurationOptions {\n  delta: number;\n  preventDefaultTouchmoveEvent: boolean;\n  rotationAngle: number;\n  trackMouse: boolean;\n  trackTouch: boolean;\n}\n\nexport type SwipeableProps = Partial<SwipeableCallbacks & ConfigurationOptions>;\n\nexport type SwipeablePropsWithDefaultOptions = Partial<SwipeableCallbacks> &\n  ConfigurationOptions;\n\nexport interface SwipeableHandlers {\n  ref(element: HTMLElement | null): void;\n  onMouseDown?(event: React.MouseEvent): void;\n}\n\nexport type SwipeableState = {\n  cleanUpTouch?: () => void;\n  el?: HTMLElement;\n  eventData?: SwipeEventData;\n  first: boolean;\n  initial: Vector2;\n  start: number;\n  swiping: boolean;\n  xy: Vector2;\n};\n\nexport type StateSetter = (\n  state: SwipeableState,\n  props: SwipeablePropsWithDefaultOptions\n) => SwipeableState;\nexport type Setter = (stateSetter: StateSetter) => void;\nexport type AttachTouch = (el: HTMLElement, passive: boolean) => () => void;\n","/* global document */\nimport * as React from \"react\";\nimport {\n  AttachTouch,\n  SwipeDirections,\n  DOWN,\n  SwipeEventData,\n  HandledEvents,\n  LEFT,\n  RIGHT,\n  Setter,\n  SwipeableHandlers,\n  SwipeableProps,\n  SwipeablePropsWithDefaultOptions,\n  SwipeableState,\n  SwipeCallback,\n  TapCallback,\n  UP,\n  Vector2,\n} from \"./types\";\n\nexport {\n  LEFT,\n  RIGHT,\n  UP,\n  DOWN,\n  SwipeDirections,\n  SwipeEventData,\n  SwipeCallback,\n  TapCallback,\n  SwipeableHandlers,\n  SwipeableProps,\n  Vector2,\n};\n\nconst defaultProps = {\n  delta: 10,\n  preventDefaultTouchmoveEvent: false,\n  rotationAngle: 0,\n  trackMouse: false,\n  trackTouch: true,\n};\nconst initialState: SwipeableState = {\n  first: true,\n  initial: [0, 0],\n  start: 0,\n  swiping: false,\n  xy: [0, 0],\n};\nconst mouseMove = \"mousemove\";\nconst mouseUp = \"mouseup\";\nconst touchEnd = \"touchend\";\nconst touchMove = \"touchmove\";\nconst touchStart = \"touchstart\";\n\nfunction getDirection(\n  absX: number,\n  absY: number,\n  deltaX: number,\n  deltaY: number\n): SwipeDirections {\n  if (absX > absY) {\n    if (deltaX > 0) {\n      return RIGHT;\n    }\n    return LEFT;\n  } else if (deltaY > 0) {\n    return DOWN;\n  }\n  return UP;\n}\n\nfunction rotateXYByAngle(pos: Vector2, angle: number): Vector2 {\n  if (angle === 0) return pos;\n  const angleInRadians = (Math.PI / 180) * angle;\n  const x =\n    pos[0] * Math.cos(angleInRadians) + pos[1] * Math.sin(angleInRadians);\n  const y =\n    pos[1] * Math.cos(angleInRadians) - pos[0] * Math.sin(angleInRadians);\n  return [x, y];\n}\n\nfunction getHandlers(\n  set: Setter,\n  handlerProps: { trackMouse: boolean | undefined }\n): [\n  {\n    ref: (element: HTMLElement | null) => void;\n    onMouseDown?: (event: React.MouseEvent) => void;\n  },\n  AttachTouch\n] {\n  const onStart = (event: HandledEvents) => {\n    // if more than a single touch don't track, for now...\n    if (event && \"touches\" in event && event.touches.length > 1) return;\n\n    set((state, props) => {\n      // setup mouse listeners on document to track swipe since swipe can leave container\n      if (props.trackMouse) {\n        document.addEventListener(mouseMove, onMove);\n        document.addEventListener(mouseUp, onUp);\n      }\n      const { clientX, clientY } =\n        \"touches\" in event ? event.touches[0] : event;\n      const xy = rotateXYByAngle([clientX, clientY], props.rotationAngle);\n      return {\n        ...state,\n        ...initialState,\n        initial: [...xy],\n        xy,\n        start: event.timeStamp || 0,\n      };\n    });\n  };\n\n  const onMove = (event: HandledEvents) => {\n    set((state, props) => {\n      // Discount a swipe if additional touches are present after\n      // a swipe has started.\n      if (\"touches\" in event && event.touches.length > 1) {\n        return state;\n      }\n      const { clientX, clientY } =\n        \"touches\" in event ? event.touches[0] : event;\n      const [x, y] = rotateXYByAngle([clientX, clientY], props.rotationAngle);\n      const deltaX = x - state.xy[0];\n      const deltaY = y - state.xy[1];\n      const absX = Math.abs(deltaX);\n      const absY = Math.abs(deltaY);\n      const time = (event.timeStamp || 0) - state.start;\n      const velocity = Math.sqrt(absX * absX + absY * absY) / (time || 1);\n      const vxvy: Vector2 = [deltaX / (time || 1), deltaY / (time || 1)];\n\n      // if swipe is under delta and we have not started to track a swipe: skip update\n      if (absX < props.delta && absY < props.delta && !state.swiping)\n        return state;\n\n      const dir = getDirection(absX, absY, deltaX, deltaY);\n      const eventData = {\n        absX,\n        absY,\n        deltaX,\n        deltaY,\n        dir,\n        event,\n        first: state.first,\n        initial: state.initial,\n        velocity,\n        vxvy,\n      };\n\n      // call onSwipeStart if present and is first swipe event\n      eventData.first && props.onSwipeStart && props.onSwipeStart(eventData);\n\n      // Call onSwiping if present\n      props.onSwiping && props.onSwiping(eventData);\n\n      // track if a swipe is cancelable(handler for swiping or swiped(dir) exists)\n      // so we can call preventDefault if needed\n      let cancelablePageSwipe = false;\n      if (props.onSwiping || props.onSwiped || `onSwiped${dir}` in props) {\n        cancelablePageSwipe = true;\n      }\n\n      if (\n        cancelablePageSwipe &&\n        props.preventDefaultTouchmoveEvent &&\n        props.trackTouch &&\n        event.cancelable\n      )\n        event.preventDefault();\n\n      return {\n        ...state,\n        // first is now always false\n        first: false,\n        eventData,\n        swiping: true,\n      };\n    });\n  };\n\n  const onEnd = (event: HandledEvents) => {\n    set((state, props) => {\n      let eventData: SwipeEventData | undefined;\n      if (state.swiping && state.eventData) {\n        eventData = { ...state.eventData, event };\n        props.onSwiped && props.onSwiped(eventData);\n\n        const onSwipedDir = `onSwiped${eventData.dir}`;\n        if (onSwipedDir in props) {\n          ((props as any)[onSwipedDir] as SwipeCallback)(eventData);\n        }\n      } else {\n        props.onTap && props.onTap({ event });\n      }\n      return { ...state, ...initialState, eventData };\n    });\n  };\n\n  const cleanUpMouse = () => {\n    // safe to just call removeEventListener\n    document.removeEventListener(mouseMove, onMove);\n    document.removeEventListener(mouseUp, onUp);\n  };\n\n  const onUp = (e: HandledEvents) => {\n    cleanUpMouse();\n    onEnd(e);\n  };\n\n  /**\n   * Switch of \"passive\" property for now.\n   * When `preventDefaultTouchmoveEvent` is:\n   * - true => { passive: false }\n   * - false => { passive: true }\n   *\n   * Could take entire `addEventListener` options object as a param later?\n   */\n  const attachTouch: AttachTouch = (el, passive) => {\n    let cleanup = () => {};\n    if (el && el.addEventListener) {\n      // attach touch event listeners and handlers\n      const tls: [\n        typeof touchStart | typeof touchMove | typeof touchEnd,\n        (e: HandledEvents) => void\n      ][] = [\n        [touchStart, onStart],\n        [touchMove, onMove],\n        [touchEnd, onEnd],\n      ];\n      tls.forEach(([e, h]) => el.addEventListener(e, h, { passive }));\n      // return properly scoped cleanup method for removing listeners, options not required\n      cleanup = () => tls.forEach(([e, h]) => el.removeEventListener(e, h));\n    }\n    return cleanup;\n  };\n\n  const onRef = (el: HTMLElement | null) => {\n    // \"inline\" ref functions are called twice on render, once with null then again with DOM element\n    // ignore null here\n    if (el === null) return;\n    set((state, props) => {\n      // if the same DOM el as previous just return state\n      if (state.el === el) return state;\n\n      const addState: { cleanUpTouch?: () => void } = {};\n      // if new DOM el clean up old DOM and reset cleanUpTouch\n      if (state.el && state.el !== el && state.cleanUpTouch) {\n        state.cleanUpTouch();\n        addState.cleanUpTouch = undefined;\n      }\n      // only attach if we want to track touch\n      if (props.trackTouch && el) {\n        addState.cleanUpTouch = attachTouch(\n          el,\n          !props.preventDefaultTouchmoveEvent\n        );\n      }\n\n      // store event attached DOM el for comparison, clean up, and re-attachment\n      return { ...state, el, ...addState };\n    });\n  };\n\n  // set ref callback to attach touch event listeners\n  const output: { ref: typeof onRef; onMouseDown?: typeof onStart } = {\n    ref: onRef,\n  };\n\n  // if track mouse attach mouse down listener\n  if (handlerProps.trackMouse) {\n    output.onMouseDown = onStart;\n  }\n\n  return [output, attachTouch];\n}\n\nfunction updateTransientState(\n  state: SwipeableState,\n  props: SwipeableProps,\n  attachTouch: AttachTouch\n) {\n  const addState: { cleanUpTouch?(): void } = {};\n  // clean up touch handlers if no longer tracking touches\n  if (!props.trackTouch && state.cleanUpTouch) {\n    state.cleanUpTouch();\n    addState.cleanUpTouch = undefined;\n  } else if (props.trackTouch && !state.cleanUpTouch) {\n    // attach/re-attach touch handlers\n    if (state.el) {\n      addState.cleanUpTouch = attachTouch(\n        state.el,\n        !props.preventDefaultTouchmoveEvent\n      );\n    }\n  }\n  return { ...state, ...addState };\n}\n\nexport function useSwipeable(options: SwipeableProps): SwipeableHandlers {\n  const { trackMouse } = options;\n  const transientState = React.useRef({ ...initialState });\n  const transientProps = React.useRef<SwipeablePropsWithDefaultOptions>({\n    ...defaultProps,\n  });\n  transientProps.current = { ...defaultProps, ...options };\n\n  const [handlers, attachTouch] = React.useMemo(\n    () =>\n      getHandlers(\n        (stateSetter) =>\n          (transientState.current = stateSetter(\n            transientState.current,\n            transientProps.current\n          )),\n        { trackMouse }\n      ),\n    [trackMouse]\n  );\n\n  transientState.current = updateTransientState(\n    transientState.current,\n    transientProps.current,\n    attachTouch\n  );\n\n  return handlers;\n}\n","import {STATISTIC_CONFIGS, MAP_LEGEND_HEIGHT} from '../../constants';\n\nimport ContentLoader from 'react-content-loader';\n\n// Margins as declared in CSS\nexport const MAP_BUFFER_MARGINS = 42;\nexport const INDIA_ASPECT_RATIO = 0.885;\n\nconst MapVisualizerLoader = ({width, statistic}) => {\n  const windowWidth = window.innerWidth;\n  // Default width for loader\n  if (!width) width = windowWidth >= 769 ? 480 : windowWidth;\n  // From CSS\n  const scalingFactor = windowWidth >= 769 ? 0.9 : 1;\n  const mapHeight = (scalingFactor * width) / INDIA_ASPECT_RATIO;\n  const height = MAP_BUFFER_MARGINS + MAP_LEGEND_HEIGHT + mapHeight;\n  return (\n    <ContentLoader\n      viewBox={`0 0 ${width} ${height}`}\n      height={height}\n      width={width}\n      speed={2}\n      backgroundColor={STATISTIC_CONFIGS[statistic].color}\n    >\n      <circle cx={0.4 * width} cy={height / 2} r=\"5\" />\n      <circle cx={0.5 * width} cy={height / 2} r=\"5\" />\n      <circle cx={0.6 * width} cy={height / 2} r=\"5\" />\n    </ContentLoader>\n  );\n};\n\nexport default MapVisualizerLoader;\n","import {\n  MAP_TYPES,\n  TABLE_STATISTICS_EXPANDED,\n  STATISTIC_CONFIGS,\n} from '../constants';\nimport {capitalize} from '../utils/commonFunctions';\n\nimport {TriangleRightIcon} from '@primer/octicons-react';\nimport classnames from 'classnames';\nimport equal from 'fast-deep-equal';\nimport {memo, useEffect, useCallback, useMemo, useRef} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport {useMeasure} from 'react-use';\n\nconst StatisticDropdown = ({\n  currentStatistic,\n  isPerLakh,\n  delta7Mode,\n  mapStatistic,\n  setMapStatistic,\n  mapType,\n  hideDistrictTestData,\n  hideVaccinated,\n  zoneColor,\n}) => {\n  const {t} = useTranslation();\n  const [wrapperRef, {width}] = useMeasure();\n  const selectRef = useRef();\n\n  const currentStatisticConfig = STATISTIC_CONFIGS[currentStatistic];\n\n  const statistics = useMemo(() => {\n    const filteredStatistics = TABLE_STATISTICS_EXPANDED.filter(\n      (statistic) =>\n        (mapType === MAP_TYPES.COUNTRY ||\n          STATISTIC_CONFIGS[statistic]?.category !== 'tested' ||\n          !hideDistrictTestData) &&\n        (STATISTIC_CONFIGS[statistic]?.category !== 'vaccinated' ||\n          !hideVaccinated)\n    );\n    return filteredStatistics.includes(currentStatistic)\n      ? filteredStatistics\n      : [currentStatistic, ...filteredStatistics];\n  }, [currentStatistic, mapType, hideDistrictTestData, hideVaccinated]);\n\n  const handleChange = useCallback(\n    (event) => {\n      setMapStatistic(event.target.value);\n    },\n    [setMapStatistic]\n  );\n\n  useEffect(() => {\n    const tempSelect = document.createElement('select');\n    const tempOption = document.createElement('option');\n\n    tempOption.textContent = STATISTIC_CONFIGS[mapStatistic]?.displayName;\n    tempSelect.style.cssText += `\n      visibility: hidden;\n      position: fixed;\n      `;\n\n    tempSelect.appendChild(tempOption);\n    selectRef.current.after(tempSelect);\n\n    const tempSelectWidth = tempSelect.getBoundingClientRect().width;\n    if (tempSelectWidth > 0) {\n      selectRef.current.style.width = `${tempSelectWidth + 2}px`;\n    }\n    tempSelect.remove();\n  }, [width, mapStatistic]);\n\n  return (\n    <div className=\"StatisticDropdown\" ref={wrapperRef}>\n      <div className={classnames('triangle-icon')}>\n        <TriangleRightIcon size={20} />\n      </div>\n      <select\n        ref={selectRef}\n        value={currentStatistic}\n        className={classnames(currentStatistic, zoneColor)}\n        style={\n          (zoneColor && {\n            color: zoneColor,\n            backgroundColor: zoneColor + '20',\n            outlineColor: zoneColor + '40',\n          }) ||\n          {}\n        }\n        onChange={handleChange}\n      >\n        {statistics.map((statistic) => {\n          const statisticConfig = STATISTIC_CONFIGS[statistic];\n          return (\n            <option key={statistic} value={statistic}>\n              {t(capitalize(statisticConfig?.displayName))}\n            </option>\n          );\n        })}\n      </select>\n      <span>{`${\n        isPerLakh &&\n        !currentStatisticConfig?.nonLinear &&\n        mapStatistic !== 'population'\n          ? ` ${t('per lakh')}`\n          : ''\n      }${\n        (delta7Mode && currentStatisticConfig?.showDelta) ||\n        currentStatisticConfig?.onlyDelta7\n          ? ` ${t('in last 7 days')}`\n          : ''\n      }`}</span>\n    </div>\n  );\n};\n\nconst isEqual = (prevProps, currProps) => {\n  if (!equal(prevProps.currentStatistic, currProps.currentStatistic)) {\n    return false;\n  } else if (!equal(prevProps.isPerLakh, currProps.isPerLakh)) {\n    return false;\n  } else if (!equal(prevProps.delta7Mode, currProps.delta7Mode)) {\n    return false;\n  } else if (!equal(prevProps.mapStatistic, currProps.mapStatistic)) {\n    return false;\n  } else if (!equal(prevProps.mapType, currProps.mapType)) {\n    return false;\n  } else if (\n    !equal(prevProps.hideDistrictTestData, currProps.hideDistrictTestData)\n  ) {\n    return false;\n  } else if (!equal(prevProps.hideVaccinated, currProps.hideVaccinated)) {\n    return false;\n  } else if (!equal(prevProps.zoneColor, currProps.zoneColor)) {\n    return false;\n  }\n  return true;\n};\n\nexport default memo(StatisticDropdown, isEqual);\n","import MapVisualizerLoader from './loaders/MapVisualizer';\nimport {Delta7Icon, PerLakhIcon} from './snippets/Icons';\nimport StatisticDropdown from './StatisticDropdown';\nimport Tooltip from './Tooltip';\n\nimport {\n  MAP_META,\n  MAP_TYPES,\n  MAP_VIEWS,\n  MAP_VIZS,\n  MAP_STATISTICS,\n  SPRING_CONFIG_NUMBERS,\n  STATE_NAMES,\n  STATISTIC_CONFIGS,\n  UNKNOWN_DISTRICT_KEY,\n} from '../constants';\nimport {formatNumber, getStatistic, retry} from '../utils/commonFunctions';\n\nimport {\n  ArrowLeftIcon,\n  DotFillIcon,\n  PinIcon,\n  OrganizationIcon,\n} from '@primer/octicons-react';\nimport classnames from 'classnames';\nimport equal from 'fast-deep-equal';\nimport produce from 'immer';\nimport {\n  memo,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  Suspense,\n  lazy,\n} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport {useHistory} from 'react-router-dom';\nimport {animated, useSpring} from 'react-spring';\nimport {useSwipeable} from 'react-swipeable';\nimport {useSessionStorage, useWindowSize} from 'react-use';\n\nconst MapVisualizer = lazy(() => retry(() => import('./MapVisualizer')));\n\nfunction MapExplorer({\n  stateCode: mapCode = 'TT',\n  data,\n  mapView = MAP_VIEWS.DISTRICTS,\n  setMapView,\n  mapStatistic,\n  setMapStatistic,\n  regionHighlighted,\n  setRegionHighlighted,\n  noRegionHighlightedDistrictData,\n  anchor,\n  setAnchor,\n  expandTable = false,\n  lastDataDate,\n  hideDistrictData = false,\n  hideDistrictTestData = true,\n  hideVaccinated = false,\n  noDistrictData = false,\n}) {\n  const {t} = useTranslation();\n  const mapExplorerRef = useRef();\n  const {width} = useWindowSize();\n\n  const [isPerLakh, setIsPerLakh] = useSessionStorage('isPerLakhMap', false);\n  const [delta7Mode, setDelta7Mode] = useSessionStorage('delta7ModeMap', false);\n\n  const mapMeta = MAP_META[mapCode];\n  const mapData =\n    mapMeta.mapType === MAP_TYPES.COUNTRY ? data : {[mapCode]: data[mapCode]};\n\n  const statisticConfig = STATISTIC_CONFIGS[mapStatistic];\n\n  const isDistrictView =\n    mapView === MAP_VIEWS.DISTRICTS &&\n    (mapMeta.mapType === MAP_TYPES.STATE ||\n      (!hideDistrictData &&\n        !(hideDistrictTestData && statisticConfig?.category === 'tested')));\n\n  const hoveredRegion = useMemo(() => {\n    const hoveredData =\n      (regionHighlighted.districtName\n        ? data[regionHighlighted.stateCode]?.districts?.[\n            regionHighlighted.districtName\n          ]\n        : data[regionHighlighted.stateCode]) || {};\n\n    return produce(hoveredData, (draft) => {\n      draft.name =\n        regionHighlighted.districtName ||\n        STATE_NAMES[regionHighlighted.stateCode];\n    });\n  }, [data, regionHighlighted.stateCode, regionHighlighted.districtName]);\n\n  const handlePerLakhClick = useCallback(() => {\n    const statisticConfig = STATISTIC_CONFIGS[mapStatistic];\n    if (statisticConfig?.nonLinear || mapStatistic === 'population') {\n      return;\n    }\n    setIsPerLakh((isPerLakh) => !isPerLakh);\n  }, [mapStatistic, setIsPerLakh]);\n\n  const handleDistrictClick = useCallback(() => {\n    const newMapView =\n      mapView === MAP_VIEWS.DISTRICTS ? MAP_VIEWS.STATES : MAP_VIEWS.DISTRICTS;\n    if (newMapView === MAP_VIEWS.STATES) {\n      setRegionHighlighted({\n        stateCode: regionHighlighted.stateCode,\n        districtName: null,\n      });\n    }\n    setMapView(newMapView);\n  }, [mapView, regionHighlighted.stateCode, setMapView, setRegionHighlighted]);\n\n  const history = useHistory();\n  const panelRef = useRef();\n\n  useEffect(() => {\n    if (history.location.hash === '#MapExplorer') {\n      panelRef.current.scrollIntoView();\n    }\n  }, [history]);\n\n  const trail = useMemo(() => {\n    const styles = [];\n\n    [0, 0, 0, 0, 0, 0, 0].map((element, index) => {\n      styles.push({\n        animationDelay: `${index * 250}ms`,\n      });\n      return null;\n    });\n\n    return styles;\n  }, []);\n\n  const getMapStatistic = useCallback(\n    (data) => {\n      const statisticConfig = STATISTIC_CONFIGS[mapStatistic];\n\n      const type =\n        (statisticConfig?.showDelta && delta7Mode) ||\n        statisticConfig?.onlyDelta7\n          ? 'delta7'\n          : 'total';\n\n      return getStatistic(data, type, mapStatistic, {\n        expiredDate: lastDataDate,\n        normalizedByPopulationPer:\n          isPerLakh && mapStatistic != 'population' ? 'lakh' : null,\n        canBeNaN: true,\n      });\n    },\n    [mapStatistic, isPerLakh, lastDataDate, delta7Mode]\n  );\n\n  let currentVal = getMapStatistic(hoveredRegion);\n  if (isNaN(currentVal)) {\n    currentVal = '-';\n  }\n\n  const spring = useSpring({\n    total: currentVal,\n    config: {tension: 250, ...SPRING_CONFIG_NUMBERS},\n  });\n\n  const mapStatistics = useMemo(\n    () =>\n      MAP_STATISTICS.filter(\n        (statistic) =>\n          !(STATISTIC_CONFIGS[statistic]?.category === 'vaccinated') ||\n          !hideVaccinated\n      ),\n    [hideVaccinated]\n  );\n\n  const handleStatisticChange = useCallback(\n    (direction) => {\n      const currentIndex = mapStatistics.indexOf(mapStatistic);\n      const toIndex =\n        (mapStatistics.length + currentIndex + direction) %\n        mapStatistics.length;\n      setMapStatistic(mapStatistics[toIndex]);\n    },\n    [mapStatistic, mapStatistics, setMapStatistic]\n  );\n\n  const swipeHandlers = useSwipeable({\n    onSwipedLeft: handleStatisticChange.bind(this, 1),\n    onSwipedRight: handleStatisticChange.bind(this, -1),\n  });\n\n  const mapViz = statisticConfig?.mapConfig?.spike\n    ? MAP_VIZS.SPIKE\n    : isPerLakh ||\n      statisticConfig?.mapConfig?.colorScale ||\n      statisticConfig?.nonLinear\n    ? MAP_VIZS.CHOROPLETH\n    : MAP_VIZS.BUBBLE;\n\n  const handleDeltaClick = useCallback(() => {\n    if (statisticConfig?.showDelta) {\n      setDelta7Mode((delta7Mode) => !delta7Mode);\n    }\n  }, [statisticConfig, setDelta7Mode]);\n\n  const stickied = anchor === 'mapexplorer' || (expandTable && width >= 769);\n\n  const transformStatistic = useCallback(\n    (val) =>\n      statisticConfig?.mapConfig?.transformFn\n        ? statisticConfig.mapConfig.transformFn(val)\n        : val,\n    [statisticConfig]\n  );\n\n  const zoneColor = statisticConfig?.mapConfig?.colorScale\n    ? statisticConfig.mapConfig.colorScale(transformStatistic(currentVal))\n    : '';\n\n  return (\n    <div\n      className={classnames(\n        'MapExplorer',\n        {stickied},\n        {\n          hidden:\n            anchor && anchor !== 'mapexplorer' && (!expandTable || width < 769),\n        }\n      )}\n    >\n      <div\n        className={classnames('anchor', 'fadeInUp', {\n          stickied,\n        })}\n        style={{\n          display: width < 769 || (width >= 769 && expandTable) ? 'none' : '',\n        }}\n        onClick={\n          setAnchor &&\n          setAnchor.bind(this, anchor === 'mapexplorer' ? null : 'mapexplorer')\n        }\n      >\n        <PinIcon />\n      </div>\n      <div className=\"panel\" ref={panelRef}>\n        <div className=\"panel-left fadeInUp\" style={trail[0]}>\n          <h2\n            className={classnames(mapStatistic)}\n            style={{color: zoneColor || statisticConfig?.color}}\n          >\n            {t(hoveredRegion.name)}\n            {hoveredRegion.name === UNKNOWN_DISTRICT_KEY &&\n              ` [${t(STATE_NAMES[regionHighlighted.stateCode])}]`}\n          </h2>\n\n          {regionHighlighted.stateCode && (\n            <h1\n              className={classnames('district', mapStatistic)}\n              style={{color: zoneColor || statisticConfig?.color}}\n            >\n              <animated.div>\n                {spring.total.to((total) =>\n                  !noRegionHighlightedDistrictData ||\n                  !statisticConfig?.hasPrimary\n                    ? formatNumber(total, statisticConfig.format, mapStatistic)\n                    : '-'\n                )}\n              </animated.div>\n              <StatisticDropdown\n                currentStatistic={mapStatistic}\n                statistics={mapStatistics}\n                mapType={mapMeta.mapType}\n                {...{\n                  isPerLakh,\n                  delta7Mode,\n                  mapStatistic,\n                  setMapStatistic,\n                  hideDistrictTestData,\n                  hideVaccinated,\n                  zoneColor,\n                }}\n              />\n            </h1>\n          )}\n        </div>\n\n        <div className={classnames('panel-right', `is-${mapStatistic}`)}>\n          <div className=\"switch-type\">\n            <Tooltip message={'Last 7 day values'} hold>\n              <div\n                className={classnames('toggle', 'fadeInUp', {\n                  'is-highlighted':\n                    (delta7Mode && statisticConfig?.showDelta) ||\n                    statisticConfig?.onlyDelta7,\n                  disabled: !statisticConfig?.showDelta,\n                })}\n                onClick={handleDeltaClick}\n                style={trail[1]}\n              >\n                <Delta7Icon />\n              </div>\n            </Tooltip>\n\n            <Tooltip message={'Per lakh people'} hold>\n              <div\n                className={classnames('toggle', 'fadeInUp', {\n                  'is-highlighted':\n                    !statisticConfig?.nonLinear &&\n                    mapViz === MAP_VIZS.CHOROPLETH,\n                  disabled:\n                    statisticConfig?.nonLinear || mapStatistic === 'population',\n                })}\n                onClick={handlePerLakhClick}\n                style={trail[2]}\n              >\n                <PerLakhIcon />\n              </div>\n            </Tooltip>\n\n            {mapMeta.mapType === MAP_TYPES.COUNTRY && (\n              <Tooltip message={'Toggle between states/districts'} hold>\n                <div\n                  className={classnames('toggle', 'boundary fadeInUp', {\n                    'is-highlighted': isDistrictView,\n                    disabled:\n                      hideDistrictData ||\n                      (statisticConfig?.category === 'tested' &&\n                        hideDistrictTestData),\n                  })}\n                  onClick={handleDistrictClick}\n                  style={trail[3]}\n                >\n                  <OrganizationIcon />\n                </div>\n              </Tooltip>\n            )}\n\n            {mapMeta.mapType === MAP_TYPES.STATE && (\n              <>\n                <div className=\"divider\" />\n                <div\n                  className=\"toggle back fadeInUp\"\n                  onClick={() => {\n                    history.push('/#MapExplorer');\n                  }}\n                  style={trail[4]}\n                >\n                  <ArrowLeftIcon />\n                </div>\n              </>\n            )}\n          </div>\n\n          <div className=\"switch-statistic fadeInUp\" style={trail[5]}>\n            {mapStatistics.map((statistic) => (\n              <div\n                key={statistic}\n                className={classnames(\n                  'toggle',\n                  'statistic-option',\n                  `is-${statistic}`,\n                  {\n                    'is-highlighted': mapStatistic === statistic,\n                  }\n                )}\n                onClick={setMapStatistic.bind(this, statistic)}\n              >\n                <DotFillIcon />\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      <div\n        ref={mapExplorerRef}\n        className=\"fadeInUp\"\n        style={trail[3]}\n        {...swipeHandlers}\n      >\n        {mapStatistic && (\n          <Suspense\n            fallback={\n              <MapVisualizerLoader\n                className=\"map-loader\"\n                {...{\n                  width: mapExplorerRef.current?.clientWidth,\n                  statistic: mapStatistic,\n                }}\n              />\n            }\n          >\n            <MapVisualizer\n              data={mapData}\n              statistic={mapStatistic}\n              {...{\n                mapCode,\n                isDistrictView,\n                mapViz,\n                regionHighlighted,\n                setRegionHighlighted,\n                getMapStatistic,\n                transformStatistic,\n                noDistrictData,\n              }}\n            ></MapVisualizer>\n          </Suspense>\n        )}\n      </div>\n    </div>\n  );\n}\n\nconst isEqual = (prevProps, currProps) => {\n  if (!equal(prevProps.stateCode, currProps.stateCode)) {\n    return false;\n  } else if (!equal(prevProps.regionHighlighted, currProps.regionHighlighted)) {\n    return false;\n  } else if (!equal(prevProps.mapView, currProps.mapView)) {\n    return false;\n  } else if (!equal(prevProps.mapStatistic, currProps.mapStatistic)) {\n    return false;\n  } else if (!equal(prevProps.anchor, currProps.anchor)) {\n    return false;\n  } else if (!equal(prevProps.expandTable, currProps.expandTable)) {\n    return false;\n  } else if (!equal(prevProps.hideDistrictData, currProps.hideDistrictData)) {\n    return false;\n  } else if (\n    !equal(prevProps.hideDistrictTestData, currProps.hideDistrictTestData)\n  ) {\n    return false;\n  } else if (!equal(prevProps.hideVaccinated, currProps.hideVaccinated)) {\n    return false;\n  } else if (!equal(prevProps.lastDataDate, currProps.lastDataDate)) {\n    return false;\n  } else if (\n    !equal(\n      prevProps.data?.TT?.meta?.['last_updated'],\n      currProps.data?.TT?.meta?.['last_updated']\n    )\n  ) {\n    return false;\n  } else if (!equal(prevProps.data?.TT?.total, currProps.data?.TT?.total)) {\n    return false;\n  } else if (\n    !equal(\n      prevProps.noRegionHighlightedDistrictData,\n      currProps.noRegionHighlightedDistrictData\n    )\n  ) {\n    return false;\n  } else if (!equal(prevProps.noDistrictData, currProps.noDistrictData)) {\n    return false;\n  }\n  return true;\n};\n\nexport default memo(MapExplorer, isEqual);\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n"],"sourceRoot":""}